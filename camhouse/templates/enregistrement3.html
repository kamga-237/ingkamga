{% extends 'home_ch.html' %}
{% load myFilter %}
{%  load static %}
{% block contenu_ch %}
            <script src="{% static 'js/jquery.js' %}"></script>

    {% if etat != 1 and etat != 3 %}
        <div class="d-flex bd-highlight bg-light">
        {% if catego == 9 %}
        <div class="p-2 flex-fill bd-highlight text-cam" style="background-color: var(--ap-color)">ETAPE 1/1 </div>
        {% else %}
        <div class="p-2 flex-fill bd-highlight text-cam" style="background-color: var(--ap-color)">ETAPE 1/3 </div>
        <div class="p-2 flex-fill bd-highlight text-cam" style="background-color: var(--ap-color)">ETAPE 2/3</div>
        <div class="p-2 flex-fill bd-highlight text-cam">
            <p class="text-cam">
                <marquee behavior="" direction="">cliquer sur le button confirmer en bas de la page pour finaliser</marquee>
            </p>
            ETAPE 3/3
            <div class="spinner-border text-info" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        </div>
        {% endif %}
    {% endif %}
                    {% if messages %}
                       {% for message in messages %}
                                  {{ message }}
                       {% endfor %}

                {% endif %}

{% for detail in details %}
    <div class="container-fluid row row-cols-3 ">
            <div class="col">
                <img src="{{ detail.image.url }}" class="rounded float-left" alt=" " style="width: 300px; height: 300px;">
            </div>
            <div class="col">
                <span class="list-group list-group-flush">
                    <li class="list-group-item">
                    {% if detail.nbchambre is not None or detail.nbdouche is not None%}<li class="list-group-item text-cam">{% if detail.nbchambre is not None and detail.nbchambre != 0  %} {{ detail.nbchambre }} chambre(s) {% endif %}  {% if detail.nbdouche is not None and detail.nbdouche != 0 %} - {{ detail.nbdouche }} douche(s) {% endif %}</li>{% endif %}
                    {% if detail.nbcuisine is not None or detail.nbsalon  is not None %}<li class="list-group-item text-cam">{% if detail.nbcuisine is not None and detail.nbcuisine != 0  %} {{ detail.nbcuisine }} cuisine(s) {% endif %}  {% if detail.nbsalon is not None and detail.nbsalon != 0  %} - {{ detail.nbsalon }} salon(s)  {% endif %}</li>{% endif %}
                    {% if detail.nbinfrastructure is not None and detail.nbinfrastructure != 0  %}<li class="list-group-item text-cam"> {{ detail.nbinfrastructure }} infrastructure(s)</li>{% endif %}
                    </li>
                    <li class="list-group-item text-cam">
                        <div class="text-cam">  <span>emlplacement:</span> {{ detail.region|myddb }} <span>--</span> {{ detail.arrondissement|myddb }}</div>
                    </li>
                    <li class="list-group-item">
                        <div class="text-cam">  <span>type de payement:</span> {{ detail.type }}
                            {% if detail.category_id != 2 and detail.category_id != 3  and detail.category_id != 8 %}
                            <span>-- Montant:</span> {{ detail.sommes }}
                            {% endif %}
                        </div>

                    </li>
                </span>
            </div>
            <div class="col">
                <span class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="text-cam">  <span>Description</span></div>
                    </li>
                    <li class="list-group-item">
                        <div class="text-cam"> {{ detail.description|myddb }}</div>
                    </li>
                </span>

            </div>
    </div>
{% endfor %}
    <div class="container-fluid row ">

    {% if activech != 0%}
        {% if catego != 8 %}
            <div class="{% if catego == 2 or catego == 3 %} col-lg-6 {% else %} col-lg-3 {% endif %}">
 <strong class="text-cam"> détail {% if catego == 9 %} de la boutique {% else %} chambre {% endif %}: </strong>
<div id="carouselExampleControlsc" class="carousel slide" data-ride="carousel">
     <div class="carousel-inner">
         {% for chambre in chambres %}
             <div class="carousel-item {% if chambre.id == activech %}    active {% endif %}"  data-toggle="modal" data-target="#staticBackdrop{{ chambre.id }}c">
                 <img src="{{ chambre.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">

             <div class="carousel-caption d-none d-md-block">
                 {% if catego == 2 or catego == 3 or catego == 8 %}
                     <H5>Montant : {{ chambre.montants }}</H5>
                 {% endif %}
                 {% if chambre.numbre > 1%}
                     <p>image de {{ chambre.numbre }} chambres identiques</p>
                 {% endif %}
             </div>


             </div>


         {% endfor %}
     </div>
    <a class="carousel-control-prev" href="#carouselExampleControlsc" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControlsc" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
        {% for chambre in chambres %}
            <div class="modal fade" id="staticBackdrop{{ chambre.id }}c" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                 <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                         <div class="modal-header">
                             {% if etat == 1 %}
                             <a href="#" class="col text-cam btn btn-outline-secondary" data-toggle="modal" data-target="#modalConfirmModifier2c{{ chambre.id }}"   title="modifier">Modifier</a>
                             <a href="#" class="col text-cam btn btn-outline-danger " data-toggle="modal" data-target="#modalConfirmSuprimer2c{{ chambre.id }}"  title="modifier">Supprimer</a>
                             {% endif %}
                             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                             </button>
                         </div>
                         <div class="row no-gutters position-relative modal-body">
                             <div class="col-md-6 mb-md-0 p-md-4">
                                 <div id="carouselExampleContros{{ chambre.id }}" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner">
                                      <div class="carousel-item   active ">
                                          <img src="{{ chambre.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ chambre.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ chambre.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>

                                  </div>
                                  <a class="carousel-control-prev" href="#carouselExampleContros{{ chambre.id }}" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleContros{{ chambre.id }}" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>

                             </div>
                             <div class="col-md-6 position-static p-4 pl-md-0">
                                 <h5 class="text-cam">
                                     {{ chambre.description|myddb }}
                                 </h5>
                                 <p>
                                 <li class="list-group-item text-cam">  Type de chambre: {{ chambre.statut|myddb }} </li>
                                 <li class="list-group-item text-cam">  hauteur: {{ chambre.hauteur }}m</li>
                                 <li class="list-group-item text-cam">  largeur: {{ chambre.largeur }}m </li>
                                 <li class="list-group-item text-cam"> longeur: {{ chambre.longeur }}m </li>
                                 </p>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

             <div class="modal fade" id="modalConfirmModifier2c{{ chambre.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Modifiez votre
                                         <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} chambre {% endif %}: </mark>
                                    </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="">
                                        {% csrf_token %}
                                        <input type="hidden" name="montant" value="0" id="id_montant">
                                           {{ form4.as_p }}
                                          <input type="hidden" name="id" value="{{ chambre.id}}">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                                        <button type="submit" class="btn btn-primary">Valider</button>
                                    </form>
                                  </div>
                                </div>
                              </div>
                        </div>

                <div  class="modal fade"  id="modalConfirmSuprimer2c{{ chambre.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                        <div  class="modal-content text-center">
                            <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                <p  class="heading">ête vous sure?</p>
                            </div>
                            <div  class="modal-body">
                                <p class="text-cam">après confirmation, tous les données en rapport avec la
                                    <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} chambre {% endif %}: </mark>serons supprimées.</p>
                                <i  class="fa fa-times fa-4x"></i>
                            </div>

                            <!--Footer-->
                            <div  class="modal-footer justify-content-center">
                                <a  href="{% url 'camer_house:supprimer_com' chambre.id %}"  class="btn  btn-outline-danger">OUI</a>
                                <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                            </div>
                        </div>
                        <!--/.Content-->
                    </div>
                </div>

        {% endfor %}

        </div>

        {% elif catego == 8 %}
<div class="col-lg-12 text-cam text-center">Détail chambre <div class="btn btn-outline-success" title="chambres reservées">{{ nbRU }}</div><div class="btn btn-outline-warning" title="chambres libres">{{ nbLU }}</div><div class="btn btn-outline-info" title="chambres occupées">{{ nbOU }}</div> </div>
            {% for chambre in chambres %}
                <div class="col-lg-12 row">
                    {% for list_univ in chambre_univ %}
                        <div class="col-lg-2">
                            {% if chambre.id == list_univ.composition_id %}
                            <div id="carouselExampleControlsc" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item active" data-toggle="modal" data-target="#staticBackdrop{{ list_univ.id }}c">
                                        <img src="{{ list_univ.composition.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                        <div class="carousel-caption d-none d-md-block">
                                            {% if catego == 2 or catego == 3 or catego == 8 %}
                                                <span class="text-center">Montant : {{ list_univ.composition.montants }}</span>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                                {% if list_univ.etat == 1 %}
                                 <div class="text-cam btn btn-outline-success">Chambre {{ list_univ.insigne }} Non Occupé</div>
                                {% elif list_univ.etat == 2 %}
                                   <a href="#" class="text-cam  btn btn-outline-success" data-backdrop="static" data-toggle="modal" data-target="#modalConfirmAccepterUniv{{ list_univ.id }}" data-dismiss="modal">Accepter La reservation </a>
                                    <p class="text-cam"> Votre chambre {{ list_univ.insigne }} est actuèlement invisible par la clientelle <mark>car elle à été reservé(e)</mark>. veuiller choisir une opération </p>
                                    <a href="#" class="text-cam  btn btn-outline-danger" data-backdrop="static" data-toggle="modal" data-target="#modalConfirmRefuser{{ list_univ.id }}" data-dismiss="modal">Refuser La reservation </a>

                                    <div  class="modal fade"  id="modalConfirmAccepterUniv{{ list_univ.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                                <div  class="modal-content text-center">
                                    <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #28a745;">
                                        <p  class="heading">ête vous sure?</p>
                                    </div>
                                    <div  class="modal-body">
                                        <p class="text-cam">après confirmation, la
                                            <mark> Chambre {{ list_univ.insigne }} </mark> seras invisible par ceux qui en ont besoin car ces marquée  comme occupé(e). le jour que le propriétaire actuel déciderat de sortir, vous pourrez ensuite la marquée comme étant libre</p>
                                        <i  class="fa fa-check fa-4x"></i>
                                    </div>
                                    <!--Footer-->
                                    <div  class="modal-footer justify-content-center">
                                        <a href="{% url 'camer_house:Confirmer_Reservation_univ' list_univ.id %}"  class="btn  btn-outline-success">Confirmer</a>
                                        <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">Non</a>
                                    </div></div>
                                <!--/.Content-->
                            </div>
                        </div>

                                      <div  class="modal fade"  id="modalConfirmRefuser{{ list_univ.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                                <div  class="modal-content text-center">
                                    <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                        <p  class="heading">ête vous sure?</p>
                                    </div>
                                    <div  class="modal-body">
                                        <p class="text-cam">après confirmation, tous les données en rapport avec la
                                            <mark> Chambre {{ list_univ.insigne }} Reserver </mark> seras annulé. elle serat par la suite disponible pour un nouveau locataire</p>
                                        <i  class="fa fa-times fa-4x"></i>
                                    </div>

                                    <!--Footer-->
                                    <div  class="modal-footer justify-content-center">
                                        <a  href="{% url 'camer_house:supprimer_Reserv_univ' list_univ.id %}"  class="btn  btn-outline-danger">OUI</a>
                                        <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                                    </div>
                                </div>
                                <!--/.Content-->
                            </div>
                        </div>


                                {% elif list_univ.etat == 3 %}
                                    <a href="#" data-backdrop="static" data-toggle="modal" data-target="#information{{ list_univ.id }}" data-dismiss="modal"  class="text-cam  btn btn-outline-primary"  id="Occuper{{ list_univ.id }}">Chambre {{ list_univ.insigne }} Occupé(e) </a>
                                    <div class="modal fade " id="information{{ list_univ.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                             <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Information sur le Locataire de la chambre {{ list_univ.insigne }}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                      <p class="text-cam" id="pay"></p>
                                      <p class="text-cam" id="code"></p>
                                      <p class="text-cam" id="number"></p>
                                      <p class="text-cam" id="date"></p>

                                  </div>
                                </div>
                              </div>
                        </div>

                                    <script>
                        $(document).ready(function () {
                            $("#Occuper{{ list_univ.id }}").click(function() {
                        var etab = {{list_univ.id}};
                        $.ajax({
                            url:  "{% url 'camer_house:location_univ' %}",
                            method: "POST",
                            data: 'id='+ etab,
                            dataType: "json",
                            success: function(data)
                            {
                                x=data.donnee;
                                for(i=0; i<x.length; i++ ){
                                    var phonenumber = x[i].phonenumber;
                                    var day = new Date(x[i].day*1000) ;
                                    var code = x[i].code;
                                    var pay = x[i].pay;
                                }
                                $(" #pay").html("pays :  "+ pay);
                                $(" #code").html("code :  "+ code);
                                $(" #number").html("numero de téléphonne :  "+ phonenumber);
                                $(" #date").html("date de location :  "+ day.getDate()+
                                                                  "-"+(day.getMonth()+1)+
                                                                  "-"+day.getFullYear()+
                                                                  " à "+day.getHours()+
                                                                  "H:"+day.getMinutes());

                            }
                        });
                    });

                        })
                        </script>

                                    <a href="#" class="text-cam  btn btn-outline-warning"  data-backdrop="static" data-toggle="modal" data-target="#RendreNonOccuper{{ list_univ.id }}" data-dismiss="modal">Rendre la Chambre {{ list_univ.insigne }} comme non Occupé(e) </a>
                                    <div class="modal fade" id="RendreNonOccuper{{ list_univ.id }}" tabindex="-1" data-backdrop="static" aria-labelledby="Reserver{{ list_univ.id }}" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                          <h5 class="modal-title text-cam">Rendre la chambre {{ list_univ.insigne }} comme non Occupée </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>

                                    <div class="modal-body">
                                    {% if montant < 1000 %}

                                            <p class="text-cam">les frais de cette Opération est de 1000 Fcfa</p>
                                        <p class="text-cam">votre solde est insufisant pour éffectuer cette opération . <br /> veuiller recharger votre compte</p>

                                      {% endif %}
                                    {% if montant >= 1000 %}
                                    <p class="text-cam">en confirmant cette Opération, vous êtes à 100% propriétaire de la Chambre {{ list_univ.insigne }}. votre chambre {{ list_univ.insigne }} est maintenant disponible
                                    pour tout personne voulant la louer</p>
                                    {% endif %}
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                               {% if montant >= 1000 %}
                                   <form action="" method="post" novalidate>
                                       {% csrf_token %}
                                       {{ formRestorer.proprietaire }}
                                           <input type="hidden" name="montant" value="0">
                                           <input type="hidden" name="puol" value="{{ list_univ.id }}" />

                                           <button  type="submit" class="btn btn-success">Confirmer l'oppération</button>
                                   </form>
                               {% endif %}
                                  </div>

                                </div>
                              </div>
                        </div>

                                {% endif %}
                            {% endif %}
                        </div>
                        <div class="modal fade" id="staticBackdrop{{ list_univ.id }}c" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="row no-gutters position-relative modal-body">
                                        <div class="col-md-6 mb-md-0 p-md-4">
                                            <div id="carouselExampleContros{{ list_univ.id }}" class="carousel slide" data-ride="carousel">
                                                <div class="carousel-inner">
                                                    <div class="carousel-item   active ">
                                                        <img src="{{ list_univ.composition.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                                    </div>
                                                    <div class="carousel-item  ">
                                                        <img src="{{ list_univ.composition.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                                    </div>
                                                    <div class="carousel-item  ">
                                                        <img src="{{ list_univ.composition.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                                    </div>
                                                </div>
                                                <a class="carousel-control-prev" href="#carouselExampleContros{{ list_univ.id }}" role="button" data-slide="prev">
                                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                    <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="carousel-control-next" href="#carouselExampleContros{{ list_univ.id }}" role="button" data-slide="next">
                                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                    <span class="sr-only">Next</span>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-md-6 position-static p-4 pl-md-0">
                                            <h5 class=" text-cam">
                                                {{ list_univ.composition.description|myddb }}
                                            </h5>
                                            <p>
                                                <li class="list-group-item text-cam"> Type de chambre: {{ list_univ.composition.statut|myddb }} </li>
                                                <li class="list-group-item text-cam"> hauteur: {{ list_univ.composition.hauteur }}m</li>
                                                <li class="list-group-item text-cam"> largeur: {{ list_univ.composition.largeur }}m</li>
                                                <li class="list-group-item text-cam"> longeur: {{ list_univ.composition.longeur }}m</li>
                                            </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                {% endfor %}
            </div>
            {% endfor %}
        {% endif %}

    {% endif %}

        {% if activecu != 0%}
        <div class="col-lg-3">
            <strong class="text-cam">détail cuisine</strong>
            <div id="carouselExampleControlscu" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    {% for cuisine in cuisines %}
<div class="carousel-item {% if cuisine.id == activecu %}    active {% endif %}"  data-toggle="modal" data-target="#staticBackdrop{{ cuisine.id }}cu">
                 <img src="{{ cuisine.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                     {% if cuisine.numbre > 1%}
                                          <div class="carousel-caption d-none d-md-block">
                                             <p>image de {{ cuisine.numbre }} cuisines identiques</p>
                                          </div>
                     {% endif %}

             </div>

                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControlscu" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControlscu" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        {% for cuisine in cuisines %}
                         <div class="modal fade" id="staticBackdrop{{ cuisine.id }}cu" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                 <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                         <div class="modal-header">
                             {% if etat == 1 %}

                             <a href="#" class="col text-cam btn btn-outline-secondary" data-toggle="modal" data-target="#modalConfirmModifier2cu{{ cuisine.id }}"   title="modifier">Modifier</a>
                             <a href="#" class="col text-cam btn btn-outline-danger " data-toggle="modal" data-target="#modalConfirmSuprimer2cu{{ cuisine.id }}"   title="supprimer">Supprimer</a>
                            {% endif %} <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                             </button>
                         </div>

                         <div class="row no-gutters modal-body position-relative">
                             <div class="col-md-6 mb-md-0 p-md-4">

                                 <div id="carouselExampleContros{{ cuisine.id }}" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner">
                                      <div class="carousel-item   active ">
                                          <img src="{{ cuisine.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ cuisine.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ cuisine.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>

                                  </div>
                                  <a class="carousel-control-prev" href="#carouselExampleContros{{ cuisine.id }}" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleContros{{ cuisine.id }}" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                             </div>
                             <div class="col-md-6 position-static p-4 pl-md-0">
                                 <h5 class="text-cam">
                                     {{ cuisine.description|myddb }}
                                 </h5>
                                 <p>
                                 <li class="list-group-item text-cam">  Type de chambre: {{ cuisine.statut|myddb }} </li>
                                 <li class="list-group-item text-cam">  hauteur: {{ cuisine.hauteur }}m</li>
                                 <li class="list-group-item text-cam">  largeur: {{ cuisine.largeur }}m </li>
                                 <li class="list-group-item text-cam"> longeur: {{ cuisine.longeur }}m </li>
                                 </p>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

                        <div class="modal fade" id="modalConfirmModifier2cu{{ cuisine.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Modifiez votre
                                         <mark class="text-cam">  cuisine  </mark>
                                    </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="">
                                        {% csrf_token %}
                                        <input type="hidden" name="montant" value="0" id="id_montant">
                                        {{ form4.as_p }}
                                          <input type="hidden" name="id" value="{{ cuisine.id}}">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">fermer</button>
                                        <button type="submit" class="btn btn-primary">Valider</button>
                                    </form>
                                  </div>
                                </div>
                              </div>
                        </div>

                        <div  class="modal fade"  id="modalConfirmSuprimer2cu{{ cuisine.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                        <div  class="modal-content text-center">
                            <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                <p  class="heading">ête vous sure?</p>
                            </div>
                            <div  class="modal-body">
                                <p class="text-cam">après confirmation, tous les données en rapport avec la
                                    <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} cuisine {% endif %}: </mark>serons supprimées.</p>
                                <i  class="fa fa-times fa-4x"></i>
                            </div>

                            <!--Footer-->
                            <div  class="modal-footer justify-content-center">
                                <a  href="{% url 'camer_house:supprimer_com' cuisine.id %}"  class="btn  btn-outline-danger">OUI</a>
                                <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                            </div>
                        </div>
                        <!--/.Content-->
                    </div>
                </div>

        {% endfor %}

        </div>
    {% endif %}
    {% if actived != 0 %}
    <div class="col-lg-3">
            <strong class="text-cam">détail douche</strong>
            <div id="carouselExampleControlsd" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    {% for douche in douches %}
<div class="carousel-item {% if douche.id == actived %}    active {% endif %}"  data-toggle="modal" data-target="#staticBackdrop{{ douche.id }}d">
                 <img src="{{ douche.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                     {% if douche.numbre > 1%}
                                          <div class="carousel-caption d-none d-md-block">
                                             <p>image de {{ douche.numbre }} douches identiques</p>
                                          </div>
                     {% endif %}

             </div>

                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControlsd" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControlsd" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
    {% for douche in douches %}
        <div class="modal fade" id="staticBackdrop{{ douche.id }}d" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                 <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                         <div class="modal-header">
                             {% if etat == 1 %}
                             <a href="#" class="col text-cam btn btn-outline-secondary" data-toggle="modal" data-target="#modalConfirmModifierd{{ douche.id }}"  title="modifier">Modifier</a>
                             <a href="#" class="col text-cam btn btn-outline-danger " data-toggle="modal" data-target="#modalConfirmSuprimerd{{ douche.id }}"   title="supprimer">Supprimer</a>
                             {% endif %}
                             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                             </button>
                         </div>
                         <div class="row no-gutters modal-body position-relative">
                             <div class="col-md-6 mb-md-0 p-md-4">

                                 <div id="carouselExampleContros{{ douche.id }}" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner">
                                      <div class="carousel-item   active ">
                                          <img src="{{ douche.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ douche.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ douche.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>

                                  </div>
                                  <a class="carousel-control-prev" href="#carouselExampleContros{{ douche.id }}" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleContros{{ douche.id }}" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                             </div>
                             <div class="col-md-6 position-static p-4 pl-md-0">
                                 <h5 class="text-cam">
                                     {{ douche.description|myddb }}
                                 </h5>
                                 <p>
                                 <li class="list-group-item text-cam">  Type de douche: {{ douche.statut|myddb }} </li>
                                 <li class="list-group-item text-cam">  hauteur: {{ douche.hauteur }}m</li>
                                 <li class="list-group-item text-cam">  largeur: {{ douche.largeur }}m </li>
                                 <li class="list-group-item text-cam"> longeur: {{ douche.longeur }}m </li>
                                 </p>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

                        <div class="modal fade" id="modalConfirmModifierd{{ douche.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Modifiez votre
                                         <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} douche {% endif %}: </mark>
                                    </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="">
                                        {% csrf_token %}
                                        <input type="hidden" name="montant" value="0" id="id_montant">
                                           {{ form4.as_p }}
                                          <input type="hidden" name="id" value="{{ douche.id}}">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">fermer</button>
                                        <button type="submit" class="btn btn-primary">Valider</button>
                                    </form>
                                  </div>
                                </div>
                              </div>
                        </div>

                <div  class="modal fade"  id="modalConfirmSuprimerd{{ douche.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                        <div  class="modal-content text-center">
                            <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                <p  class="heading">ête vous sure?</p>
                            </div>
                            <div  class="modal-body">
                                <p class="text-cam">après confirmation, tous les données en rapport avec la
                                    <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} douche {% endif %}: </mark>serons supprimées.</p>
                                <i  class="fa fa-times fa-4x"></i>
                            </div>

                            <!--Footer-->
                            <div  class="modal-footer justify-content-center">
                                <a  href="{% url 'camer_house:supprimer_com' douche.id %}"  class="btn  btn-outline-danger">OUI</a>
                                <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                            </div>
                        </div>
                        <!--/.Content-->
                    </div>
                </div>

    {% endfor %}

        </div>
    {% endif %}
    {% if actives != 0 %}
        <div class="col-lg-3">
            <strong class="text-cam">détail Salon</strong>
            <div id="carouselExampleControlss" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    {% for salon in salons %}
<div class="carousel-item {% if salon.id == actives %}    active {% endif %}"  data-toggle="modal" data-target="#staticBackdrop{{ salon.id }}s">
                 <img src="{{ salon.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                     {% if salon.numbre > 1%}
                                          <div class="carousel-caption d-none d-md-block">
                                             <p>image de {{ salon.numbre }} salons identiques</p>
                                          </div>
                     {% endif %}

             </div>

                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControlss" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControlss" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        {% for salon in salons %}
            <div class="modal fade" id="staticBackdrop{{ salon.id }}s" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                 <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                         <div class="modal-header">
                             {% if etat == 1 %}
                             <a href="#" class="col text-cam btn btn-outline-secondary" data-toggle="modal" data-target="#modalConfirmModifiers{{ salon.id }}"   title="modifier">Modifier</a>
                             <a href="#" class="col text-cam btn btn-outline-danger " data-toggle="modal" data-target="#modalConfirmSuprimers{{ salon.id }}"   title="supprimer">Supprimer</a>
                             {% endif %}
                             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                             </button>
                         </div>
                         <div class="row no-gutters modal-body position-relative">
                             <div class="col-md-6 mb-md-0 p-md-4">

                                 <div id="carouselExampleContros{{ salon.id }}" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner">
                                      <div class="carousel-item   active ">
                                          <img src="{{ salon.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ salon.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ salon.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>

                                  </div>
                                  <a class="carousel-control-prev" href="#carouselExampleContros{{ salon.id }}" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleContros{{ salon.id }}" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                             </div>
                             <div class="col-md-6 position-static p-4 pl-md-0">
                                 <h5 class="text-cam">
                                     {{ salon.description|myddb }}
                                 </h5>
                                 <p>
                                 <li class="list-group-item text-cam">  Type de chambre: {{ salon.statut|myddb }} </li>
                                 <li class="list-group-item text-cam">  hauteur: {{ salon.hauteur }}m</li>
                                 <li class="list-group-item text-cam">  largeur: {{ salon.largeur }}m </li>
                                 <li class="list-group-item text-cam"> longeur: {{ salon.longeur }}m </li>
                                 </p>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

                        <div class="modal fade" id="modalConfirmModifiers{{ salon.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Modifiez votre
                                         <mark class="text-cam"> {% if catego == 9 %} boutique {% else %} salon {% endif %}: </mark>
                                    </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="">
                                        {% csrf_token %}
                                        <input type="hidden" name="montant" value="0" id="id_montant">
                                           {{ form4.as_p }}
                                          <input type="hidden" name="id" value="{{ salon.id}}">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                                        <button type="submit" class="btn btn-primary">Valider</button>
                                    </form>
                                  </div>
                                </div>
                              </div>
                        </div>

                <div  class="modal fade"  id="modalConfirmSuprimers{{ salon.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                        <div  class="modal-content text-center">
                            <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                <p  class="heading">ête vous sure?</p>
                            </div>
                            <div  class="modal-body">
                                <p class="text-cam">après confirmation, tous les données en rapport avec
                                    <mark class="text-cam"> {% if catego == 9 %} la boutique {% else %} le salon {% endif %}: </mark>serons supprimées.</p>
                                <i  class="fa fa-times fa-4x"></i>
                            </div>

                            <!--Footer-->
                            <div  class="modal-footer justify-content-center">
                                <a  href="{% url 'camer_house:supprimer_com' salon.id %}"  class="btn  btn-outline-danger">OUI</a>
                                <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                            </div>
                        </div>
                        <!--/.Content-->
                    </div>
                </div>

        {% endfor %}

    </div>
    {% endif %}
        {% if purinn > 0%}
        <div class="{% if catego == 2 or catego == 3 or catego == 8 %} col-lg-6 {% else %} col-lg-3 {% endif %}">
 <strong class="text-cam"> détail infrastucture: </strong>
<div id="carouselExampleControlsi" class="carousel slide" data-ride="carousel">
     <div class="carousel-inner">
         {% for infrastructure in infrastructures %}
             <div class="carousel-item {% if infrastructure.id == purin %}    active {% endif %}"  data-toggle="modal" data-target="#staticBackdrop{{ infrastructure.id }}i">
                 <img src="{{ infrastructure.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
             </div>
         {% endfor %}
     </div>
    <a class="carousel-control-prev" href="#carouselExampleControlsi" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControlsi" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
        {% for infrastructure in infrastructures %}
                <div class="modal fade" id="staticBackdrop{{ infrastructure.id }}i" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                 <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                         <div class="modal-header">
                             <a href="#" class="col text-cam btn btn-outline-secondary" data-toggle="modal" data-target="#modalConfirmModifiersin{{ infrastructure.id }}"   title="modifier">Modifier</a>
                             <a href="#" class="col text-cam btn btn-outline-danger " data-toggle="modal" data-target="#modalConfirmSuprimersin{{ infrastructure.id }}"   title="modifier">Supprimer</a>
                             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                             </button>
                         </div>
                         <div class="row no-gutters modal-body position-relative">
                             <div class="col-md-6 mb-md-0 p-md-4">

                                 <div id="carouselExampleContros{{ infrastructure.id }}" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner">
                                      <div class="carousel-item   active ">
                                          <img src="{{ infrastructure.image.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ infrastructure.imageUn.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>
                                      <div class="carousel-item  ">
                                          <img src="{{ infrastructure.imageDeux.url }}" class="d-block w-100" alt="..." style="width: 300px; height: 300px;">
                                      </div>

                                  </div>
                                  <a class="carousel-control-prev" href="#carouselExampleContros{{ infrastructure.id }}" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleContros{{ infrastructure.id }}" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                             </div>
                             <div class="col-md-6 position-static p-4 pl-md-0">
                                 <h5 class="text-cam">
                                     {{ infrastructure.description|myddb }}
                                 </h5>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

            <div class="modal fade" id="modalConfirmModifiersin{{ infrastructure.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Modifiez votre
                                         <mark class="text-cam">  infrastructure : </mark>
                                    </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="">
                                        {% csrf_token %}
                                        <input type="hidden" name="montant" value="0" id="id_montant">
                                           {{ form4.as_p }}
                                          <input type="hidden" name="id" value="{{ infrastructure.id}}">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                                        <button type="submit" class="btn btn-primary">Valider</button>
                                    </form>
                                  </div>
                                </div>
                              </div>
                        </div>

            <div  class="modal fade"  id="modalConfirmSuprimersin{{ infrastructure.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div  class="modal-dialog modal-sm modal-notify modal-danger" role="document">
                        <div  class="modal-content text-center">
                            <div  class="modal-header d-flex justify-content-center" style="color: #FFF; background-color: #dc3545;">
                                <p  class="heading">ête vous sure?</p>
                            </div>
                            <div  class="modal-body">
                                <p class="text-cam">après confirmation, tous les données en rapport avec
                                    <mark class="text-cam"> l'infrastructure </mark>serons supprimées.</p>
                                <i  class="fa fa-times fa-4x"></i>
                            </div>

                            <!--Footer-->
                            <div  class="modal-footer justify-content-center">
                                <a  href="{% url 'camer_house:supprimer_com' infrastructure.id %}"  class="btn  btn-outline-danger">OUI</a>
                                <a type="button"  class="btn  btn-outline-primary waves-effect"  data-dismiss="modal">NON</a>
                            </div>
                        </div>
                        <!--/.Content-->
                    </div>
                </div>

        {% endfor %}

        </div>
    {% endif %}
    </div>

    {% if etat != 1 and etat != 3 %}
        <form method="post" class="text-align-center" style="margin: 10px 0 10px 0; position: center" action=".">
            {% csrf_token %}

            <input type="hidden" name="proprietaire" value="" id="id_proprietaire">
            <input type="hidden" name="puol" value="" id="id_puol">
            <input type="hidden" name="montant" value="0" id="id_montant">
            <input type="hidden" name="id" value="{{ idh }}">
            <button id="valider" type="submit" class="btn btn-secondary">
            confirmer
            </button>
        </form>
    {% endif %}

{% endblock contenu_ch %}
